# Comparator Prompt
# Version: 1.0
# Description: Compare blind reader's reconstruction to original story (for blind test stage 2)
# Required Variables: original_text, reconstructed_story, identified_characters, plot_points, unclear_elements
# Output Schema: { scores, weighted_score, comparison, failure_points, repair_suggestions }

prompt_comparator: |
  {{ system_prompt_json }}

  Compare the blind readerâ€™s reconstruction with the original story.

  ORIGINAL STORY:
  {{ original_text }}

  BLIND READER RESULT:
  Story: {{ reconstructed_story }}
  Emotional Takeaway: {{ emotional_takeaway }}
  Observations: {{ visual_storytelling_observations }}
  Confusing Elements: {{ confusing_or_weak_elements }}
  Identified Characters: {{ identified_characters }}

  SCORING RUBRIC:

  - plot_recall (30%): Did the reader understand the main events?
  - emotional_alignment (30%): Did the reader feel the intended emotions?
  - visual_delivery (25%): Did the panels use visual storytelling effectively?
  - character_identifiability (15%): Could the reader distinguish characters?

  OUTPUT SCHEMA:
  {
    "scores": {
      "plot_recall": 0.0-1.0,
      "emotional_alignment": 0.0-1.0,
      "visual_delivery": 0.0-1.0,
      "character_identifiability": 0.0-1.0
    },
    "weighted_score": 0.0-1.0,
    "failure_points": [
      "specific panels or patterns that weakened storytelling"
    ],
    "repair_suggestions": [
      "concrete, actionable fixes (e.g., reduce repetition, add visual implication)"
    ]
  }
